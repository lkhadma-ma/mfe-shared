import{a as s}from"./chunk-OZBXTY5B.js";import"./chunk-2VMXMS7J.js";import{NgTemplateOutlet as C}from"@angular/common";import{toSignal as S}from"@angular/core/rxjs-interop";import{computed as w,inject as u}from"@angular/core";import{NavigationEnd as y,Router as T,RouterLink as k}from"@angular/router";import{NgTemplateOutlet as d}from"@angular/common";import{RouterLink as _}from"@angular/router";import*as n from"@angular/core";var x=["icon"];function h(t,o){t&1&&n.\u0275\u0275elementContainer(0)}function g(t,o){if(t&1&&(n.\u0275\u0275elementStart(0,"p",3),n.\u0275\u0275text(1),n.\u0275\u0275elementEnd()),t&2){let i=n.\u0275\u0275nextContext();n.\u0275\u0275advance(),n.\u0275\u0275textInterpolate1(" ",i.alert," ")}}var m=class t{label;href;alert="";notification=!1;home=!1;iconTemplate;static \u0275fac=function(i){return new(i||t)};static \u0275cmp=n.\u0275\u0275defineComponent({type:t,selectors:[["app-link-item"]],contentQueries:function(i,a,l){if(i&1&&n.\u0275\u0275contentQuery(l,x,5),i&2){let r;n.\u0275\u0275queryRefresh(r=n.\u0275\u0275loadQuery())&&(a.iconTemplate=r.first)}},inputs:{label:"label",href:"href",alert:"alert",notification:"notification",home:"home"},decls:6,vars:4,consts:[[1,"flex","flex-col","items-center","justify-center",3,"routerLink"],[1,"relative","text-2xl","text-gray-600","hover:text-gray-900"],[4,"ngTemplateOutlet"],[1,"absolute","flex","items-center","justify-center","w-4","h-4","text-sm","text-gray-100","bg-red-700","rounded-full","-right-1.5","-top-0"],[1,"hidden","text-xs","lg:block"]],template:function(i,a){i&1&&(n.\u0275\u0275elementStart(0,"a",0)(1,"div",1),n.\u0275\u0275template(2,h,1,0,"ng-container",2),n.\u0275\u0275conditionalCreate(3,g,2,1,"p",3),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(4,"span",4),n.\u0275\u0275text(5),n.\u0275\u0275elementEnd()()),i&2&&(n.\u0275\u0275property("routerLink",a.href),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngTemplateOutlet",a.iconTemplate),n.\u0275\u0275advance(),n.\u0275\u0275conditional(a.notification||a.home?3:-1),n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate(a.label))},dependencies:[_,d],encapsulation:2})};import{inject as v,signal as b}from"@angular/core";import*as c from"@angular/core";var p=class t{http=v(s);baseUrl="http://localhost:8080/mbe-user/api/v1";userSignal=b(null);user=this.userSignal.asReadonly();loadUser(){this.http.get(`${this.baseUrl}/users/mfe-shared/view`).subscribe({next:o=>{this.userSignal.set(o)},error:()=>{this.userSignal.set(null)}})}static \u0275fac=function(i){return new(i||t)};static \u0275prov=c.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})};import{filter as N,map as E}from"rxjs";import*as e from"@angular/core";var I=t=>["/lk",t];function L(t,o){t&1&&e.\u0275\u0275elementContainer(0)}function R(t,o){t&1&&e.\u0275\u0275elementContainer(0)}function V(t,o){if(t&1&&(e.\u0275\u0275elementStart(0,"main",3)(1,"div",14),e.\u0275\u0275template(2,L,1,0,"ng-container",15)(3,R,1,0,"ng-container",15),e.\u0275\u0275elementEnd()()),t&2){e.\u0275\u0275nextContext();let i=e.\u0275\u0275reference(2),a=e.\u0275\u0275reference(4);e.\u0275\u0275advance(2),e.\u0275\u0275property("ngTemplateOutlet",i),e.\u0275\u0275advance(),e.\u0275\u0275property("ngTemplateOutlet",a)}}function j(t,o){if(t&1){let i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"input",20),e.\u0275\u0275listener("input",function(l){e.\u0275\u0275restoreView(i);let r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.onInputJob(l))}),e.\u0275\u0275elementEnd()}}function U(t,o){if(t&1){let i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"input",21),e.\u0275\u0275listener("focus",function(){e.\u0275\u0275restoreView(i);let l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.goToSearchRoute())})("input",function(l){e.\u0275\u0275restoreView(i);let r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.onInput(l))}),e.\u0275\u0275elementEnd()}}function M(t,o){if(t&1&&(e.\u0275\u0275elementStart(0,"div",16)(1,"a",17),e.\u0275\u0275element(2,"img",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",18)(4,"div",19),e.\u0275\u0275element(5,"i",11),e.\u0275\u0275conditionalCreate(6,j,1,0,"input",12)(7,U,1,0,"input",13),e.\u0275\u0275elementEnd()()()),t&2){let i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275conditional(i.isJobPage()?6:7)}}function O(t,o){t&1&&e.\u0275\u0275element(0,"i",33)}function D(t,o){t&1&&e.\u0275\u0275element(0,"i",34)}function J(t,o){t&1&&e.\u0275\u0275element(0,"i",35)}function P(t,o){t&1&&e.\u0275\u0275element(0,"i",36)}function F(t,o){if(t&1&&(e.\u0275\u0275elementStart(0,"div")(1,"div",22)(2,"app-link-item",23),e.\u0275\u0275template(3,O,1,0,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"app-link-item",24),e.\u0275\u0275template(6,D,1,0,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"a",25),e.\u0275\u0275element(9,"img",26),e.\u0275\u0275elementStart(10,"div",27)(11,"span",28),e.\u0275\u0275text(12," Me "),e.\u0275\u0275element(13,"i",29),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275element(14,"div",30),e.\u0275\u0275elementStart(15,"app-link-item",31),e.\u0275\u0275template(16,J,1,0,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"app-link-item",32),e.\u0275\u0275template(19,P,1,0,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()()()),t&2){let i,a,l=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("home",!0),e.\u0275\u0275advance(6),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(3,I,(i=l.user())==null?null:i.username)),e.\u0275\u0275advance(),e.\u0275\u0275property("src",(a=l.user())==null?null:a.avatar,e.\u0275\u0275sanitizeUrl)}}function Q(t,o){if(t&1){let i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"input",20),e.\u0275\u0275listener("input",function(l){e.\u0275\u0275restoreView(i);let r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.onInputJob(l))}),e.\u0275\u0275elementEnd()}}function H(t,o){if(t&1){let i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"input",21),e.\u0275\u0275listener("focus",function(){e.\u0275\u0275restoreView(i);let l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.goToSearchRoute())})("input",function(l){e.\u0275\u0275restoreView(i);let r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.onInput(l))}),e.\u0275\u0275elementEnd()}}var f=class t{router=u(T);userStore=u(p);user=this.userStore.user;ngOnInit(){this.userStore.loadUser()}goToSearchRoute(){this.router.navigate(["/lk/search"])}onInput(o){let a=o.target.value.replace(/<[^>]*>/g,"").trim();window.dispatchEvent(new CustomEvent("mfe-search:domains:all",{detail:a}))}onInputJob(o){let a=o.target.value.replace(/<[^>]*>/g,"").trim();window.dispatchEvent(new CustomEvent("mfe-search:domains:job",{detail:a}))}currentUrl=S(this.router.events.pipe(N(o=>o instanceof y),E(()=>this.router.url)),{initialValue:this.router.url});isJobPage=w(()=>this.currentUrl()?.startsWith("/lk/jobs"));static \u0275fac=function(i){return new(i||t)};static \u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-navbar"]],decls:15,vars:2,consts:[["leftNavItems",""],["rightNavItems",""],["icon",""],[1,"fixed","w-full","top-0","z-20","hidden","px-8","shadow","bg-white","md:block"],[1,"md:hidden"],[1,"max-w-6xl","px-5","py-2","mx-auto","bg-white"],[1,"w-full","flex","items-center","justify-between","space-x-2"],[1,"w-full","flex","items-center","space-x-2"],["routerLink","/"],["src","logoNoBg.png","alt","Me",1,"w-8","h-8"],[1,"flex","transition-all","duration-300","items-center","focus-within:w-[90%]","w-60","space-x-3","py-1.5","px-3","rounded-[20px]","bg-white","border-[0.5px]","border-[solid]","border-black"],[1,"fa-solid","fa-search","text-gray-500","text-sm"],["type","text","placeholder","Search for job",1,"w-full","focus:outline-none","text-sm"],["type","text","placeholder","Search for compnay or user",1,"w-full","focus:outline-none","text-sm"],[1,"flex","items-center","max-w-6xl","mx-auto","md:justify-between"],[4,"ngTemplateOutlet"],[1,"flex","flex-1","items-center","space-x-2"],["routerLink","/home"],[1,"w-full","hidden","md:block"],[1,"flex","transition-all","duration-300","items-center","xl:w-80","focus-within:w-[90%]","w-60","space-x-3","py-1.5","px-3","rounded-[20px]","bg-white","border-[0.5px]","border-[solid]","border-black"],["type","text","placeholder","Search for job",1,"w-full","focus:outline-none","text-sm",3,"input"],["type","text","placeholder","Search for compnay or user",1,"w-full","focus:outline-none","text-sm",3,"focus","input"],[1,"flex","items-center","space-x-8","text-gray-500"],["label","feeds","href","/lk/feed","alert","",3,"home"],["label","Jobs","href","/lk/jobs"],[1,"flex","flex-col","items-center","justify-center",3,"routerLink"],["alt","Me",1,"rounded-full","w-7","h-7",3,"src"],[1,"hidden","lg:block"],[1,"flex","items-center","text-xs"],[1,"ti","ti-arrow-sorted-down","ml-1","text-base"],[1,"border-r","border-gray-200","h-14"],["label","Work","href","/lk/work"],["label","Learning","href","/lk/learning"],[1,"fa-solid","fa-house-chimney-crack","text-xl"],[1,"fa-solid","fa-briefcase","text-xl"],[1,"fa-solid","fa-grip","text-xl"],[1,"fa-solid","fa-graduation-cap","text-xl"]],template:function(i,a){i&1&&(e.\u0275\u0275conditionalCreate(0,V,4,2,"main",3),e.\u0275\u0275template(1,M,8,1,"ng-template",null,0,e.\u0275\u0275templateRefExtractor)(3,F,21,5,"ng-template",null,1,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(5,"main",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"a",8),e.\u0275\u0275element(10,"img",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",10),e.\u0275\u0275element(12,"i",11),e.\u0275\u0275conditionalCreate(13,Q,1,0,"input",12)(14,H,1,0,"input",13),e.\u0275\u0275elementEnd()()()()()),i&2&&(e.\u0275\u0275conditional(a.user()?0:-1),e.\u0275\u0275advance(13),e.\u0275\u0275conditional(a.isJobPage()?13:14))},dependencies:[C,m,k],encapsulation:2})};export{f as ShellNavbarComponent};
