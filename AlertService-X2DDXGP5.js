import{signal as u}from"@angular/core";import*as h from"@angular/core";var d=class l{_alerts=u([]);nextId=1;containerEl;get alerts(){return this._alerts}defaultIcons={info:"M13 16h-1v-4h-1m1-4h.01M12 6v6",success:"M5 13l4 4L19 7",warning:"M12 9v4m0 4h.01M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20z",error:"M6 18L18 6M6 6l12 12"};show(r,e="info",i=5e3,s){let t={id:this.nextId++,message:r,type:e,timeout:i,icon:s??this.defaultIcons[e]};return this._alerts.set([...this._alerts(),t]),this.containerEl||this.createContainer(),this.render(),i>0&&setTimeout(()=>this.hide(t.id),i),t.id}hide(r){this._alerts.set(this._alerts().filter(e=>e.id!==r)),this.render()}clear(){this._alerts.set([]),this.render()}createContainer(){this.containerEl=document.createElement("div"),Object.assign(this.containerEl.style,{position:"fixed",top:"1rem",right:"1rem",width:"300px",zIndex:"9999"}),document.body.appendChild(this.containerEl)}render(){if(!this.containerEl)return;this.containerEl.innerHTML="";let r=window.innerWidth;for(let e of this._alerts()){let i=document.createElement("div"),s="0.75rem",t="0.875rem";if(r<768?(s="0.5rem",t="0.75rem"):r<1024&&(s="0.65rem",t="0.8125rem"),Object.assign(i.style,{marginTop:"0.75rem",padding:s,borderRadius:"0.375rem",display:"flex",alignItems:"center",position:"relative",fontSize:t,transition:"all 0.2s ease",backgroundColor:this.bgColor(e.type),color:this.textColor(e.type)}),e.icon){let n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("viewBox","0 0 24 24"),n.setAttribute("fill","none"),n.setAttribute("stroke","currentColor"),n.setAttribute("stroke-width","2"),n.setAttribute("width",t),n.setAttribute("height",t),n.style.marginRight="0.5rem";let a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttribute("d",e.icon),a.setAttribute("stroke-linecap","round"),a.setAttribute("stroke-linejoin","round"),n.appendChild(a),i.appendChild(n)}let c=document.createElement("span");c.textContent=e.message,c.style.flex="1",i.appendChild(c);let o=document.createElement("button");o.textContent="\xD7",Object.assign(o.style,{position:"absolute",top:"0.25rem",right:"0.25rem",width:t,height:t,display:"flex",alignItems:"center",justifyContent:"center",border:"none",borderRadius:"0.375rem",cursor:"pointer",background:"rgba(0,0,0,0.05)",fontSize:t}),o.onclick=()=>this.hide(e.id),i.appendChild(o),this.containerEl.appendChild(i)}}bgColor(r){switch(r){case"success":return"#d1fae5";case"warning":return"#fef3c7";case"error":return"#fee2e2";default:return"#f3f4f6"}}textColor(r){switch(r){case"success":return"#065f46";case"warning":return"#78350f";case"error":return"#991b1b";default:return"#374151"}}static \u0275fac=function(e){return new(e||l)};static \u0275prov=h.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})};export{d as AlertService};
