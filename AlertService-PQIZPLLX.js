import{ApplicationRef as _,createComponent as g,inject as y,signal as S}from"@angular/core";import{CommonModule as v}from"@angular/common";import{DOCUMENT as q}from"@angular/common";import*as f from"@angular/core";import{inject as V,ANIMATION_MODULE_TYPE as $,\u0275RuntimeError as G,ViewEncapsulation as U}from"@angular/core";var s=(function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e})(s||{});function d(e,n){return{type:s.Trigger,name:e,definitions:n,options:{}}}function c(e,n=null){return{type:s.Animate,styles:n,timings:e}}function l(e){return{type:s.Style,styles:e,offset:null}}function h(e,n,r=null){return{type:s.Transition,expr:e,animation:n,options:r}}import*as t from"@angular/core";import*as o from"@angular/common";function C(e,n){if(e&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(1,"svg",7),t.\u0275\u0275element(2,"path",8),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),e&2){let r=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275attribute("d",r.icon)}}function D(e,n){if(e&1){let r=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",1),t.\u0275\u0275template(1,C,3,1,"ng-container",2),t.\u0275\u0275elementStart(2,"span",3),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"button",4),t.\u0275\u0275listener("click",function(){let u=t.\u0275\u0275restoreView(r).$implicit,a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.alertService.hide(u.id))}),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(5,"svg",5),t.\u0275\u0275element(6,"path",6),t.\u0275\u0275elementEnd()()()}if(e&2){let r=n.$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275property("@fade",void 0)("ngClass",i.bgClass(r.type)+" "+i.textClass(r.type)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",r.icon),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(r.message)}}var p=class e{constructor(n){this.appRef=n}_alerts=S([]);nextId=1;containerRef;get alerts(){return this._alerts}show(n,r="info",i=5e3,u){let a={id:this.nextId++,message:n,type:r,timeout:i,icon:u};return this._alerts.set([...this._alerts(),a]),this.containerRef||this.mountContainer(),i>0&&setTimeout(()=>this.hide(a.id),i),a.id}hide(n){this._alerts.set(this._alerts().filter(r=>r.id!==n))}clear(){this._alerts.set([])}mountContainer(){let n=g(m,{environmentInjector:y(_).injector});n.instance.alertService=this,this.appRef.attachView(n.hostView);let r=n.hostView.rootNodes[0];document.body.appendChild(r),this.containerRef=n}static \u0275fac=function(r){return new(r||e)(t.\u0275\u0275inject(t.ApplicationRef))};static \u0275prov=t.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"})},m=class e{alertService;bgClass(n){switch(n){case"success":return"bg-green-100";case"warning":return"bg-yellow-100";case"error":return"bg-red-100";default:return"bg-slate-100"}}textClass(n){switch(n){case"success":return"text-green-600";case"warning":return"text-yellow-600";case"error":return"text-red-600";default:return"text-slate-600"}}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=t.\u0275\u0275defineComponent({type:e,selectors:[["mfe-alert-container"]],hostAttrs:[1,"block","w-full","fixed","top-4","right-4","z-50"],decls:1,vars:1,consts:[["role","alert","class","mt-3 relative flex w-full p-3 text-sm rounded-md",3,"ngClass",4,"ngFor","ngForOf"],["role","alert",1,"mt-3","relative","flex","w-full","p-3","text-sm","rounded-md",3,"ngClass"],[4,"ngIf"],[1,"flex-1"],["type","button",1,"flex","items-center","justify-center","transition-all","w-8","h-8","rounded-md","hover:bg-slate-200","active:bg-slate-200","absolute","top-1.5","right-1.5",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-5","w-5","text-slate-600"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18L18 6M6 6l12 12"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round"]],template:function(r,i){r&1&&t.\u0275\u0275template(0,D,7,4,"div",0),r&2&&t.\u0275\u0275property("ngForOf",i.alertService.alerts())},dependencies:[v,o.NgClass,o.NgForOf,o.NgIf],encapsulation:2,data:{animation:[d("fade",[h(":enter",[l({opacity:0,transform:"translateY(-10px)"}),c("200ms ease-out",l({opacity:1,transform:"translateY(0)"}))]),h(":leave",[c("200ms ease-in",l({opacity:0,transform:"translateY(-10px)"}))])])]}})};export{p as AlertService};
/*! Bundled license information:

@angular/animations/fesm2022/private_export.mjs:
@angular/animations/fesm2022/animations.mjs:
  (**
   * @license Angular v20.1.3
   * (c) 2010-2025 Google LLC. https://angular.io/
   * License: MIT
   *)
*/
