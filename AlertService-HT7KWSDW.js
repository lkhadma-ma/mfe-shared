import{signal as c}from"@angular/core";import*as l from"@angular/core";var a=class o{_alerts=c([]);nextId=1;containerEl;get alerts(){return this._alerts}show(e,t="info",n=5e3,i){let r={id:this.nextId++,message:e,type:t,timeout:n,icon:i};return this._alerts.set([...this._alerts(),r]),this.containerEl||this.createContainer(),this.render(),n>0&&setTimeout(()=>this.hide(r.id),n),r.id}hide(e){this._alerts.set(this._alerts().filter(t=>t.id!==e)),this.render()}clear(){this._alerts.set([]),this.render()}createContainer(){this.containerEl=document.createElement("div"),Object.assign(this.containerEl.style,{position:"fixed",top:"1rem",right:"1rem",width:"300px",zIndex:"9999"}),document.body.appendChild(this.containerEl)}render(){if(this.containerEl){this.containerEl.innerHTML="";for(let e of this._alerts()){let t=document.createElement("div");if(Object.assign(t.style,{marginTop:"0.75rem",padding:"0.75rem",borderRadius:"0.375rem",display:"flex",alignItems:"center",position:"relative",fontSize:"0.875rem",transition:"all 0.2s ease",backgroundColor:this.bgColor(e.type),color:this.textColor(e.type)}),e.icon){let r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("viewBox","0 0 24 24"),r.setAttribute("fill","none"),r.setAttribute("stroke","currentColor"),r.setAttribute("stroke-width","2"),r.setAttribute("class","w-5 h-5 mr-2");let s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("d",e.icon),s.setAttribute("stroke-linecap","round"),s.setAttribute("stroke-linejoin","round"),r.appendChild(s),t.appendChild(r)}let n=document.createElement("span");n.textContent=e.message,n.style.flex="1",t.appendChild(n);let i=document.createElement("button");i.textContent="\xD7",Object.assign(i.style,{position:"absolute",top:"0.25rem",right:"0.25rem",width:"1.5rem",height:"1.5rem",display:"flex",alignItems:"center",justifyContent:"center",border:"none",borderRadius:"0.375rem",cursor:"pointer",background:"rgba(0,0,0,0.05)"}),i.onclick=()=>this.hide(e.id),t.appendChild(i),this.containerEl.appendChild(t)}}}bgColor(e){switch(e){case"success":return"#d1fae5";case"warning":return"#fef3c7";case"error":return"#fee2e2";default:return"#f3f4f6"}}textColor(e){switch(e){case"success":return"#065f46";case"warning":return"#78350f";case"error":return"#991b1b";default:return"#374151"}}static \u0275fac=function(t){return new(t||o)};static \u0275prov=l.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"})};export{a as AlertService};
