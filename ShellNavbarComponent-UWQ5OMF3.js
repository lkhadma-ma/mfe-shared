import{a as f,b as u,c as s}from"./chunk-2VMXMS7J.js";import{NgTemplateOutlet as pe}from"@angular/common";import{inject as fe,signal as ue}from"@angular/core";import{RouterLink as de}from"@angular/router";import{NgTemplateOutlet as P}from"@angular/common";import{RouterLink as U}from"@angular/router";import*as r from"@angular/core";var D=["icon"];function $(e,n){e&1&&r.\u0275\u0275elementContainer(0)}function V(e,n){if(e&1&&(r.\u0275\u0275elementStart(0,"p",3),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),e&2){let i=r.\u0275\u0275nextContext();r.\u0275\u0275advance(),r.\u0275\u0275textInterpolate1(" ",i.alert," ")}}var x=class e{label;href;alert="";notification=!1;home=!1;iconTemplate;static \u0275fac=function(i){return new(i||e)};static \u0275cmp=r.\u0275\u0275defineComponent({type:e,selectors:[["app-link-item"]],contentQueries:function(i,o,a){if(i&1&&r.\u0275\u0275contentQuery(a,D,5),i&2){let l;r.\u0275\u0275queryRefresh(l=r.\u0275\u0275loadQuery())&&(o.iconTemplate=l.first)}},inputs:{label:"label",href:"href",alert:"alert",notification:"notification",home:"home"},decls:6,vars:4,consts:[[1,"flex","flex-col","items-center","justify-center",3,"routerLink"],[1,"relative","text-2xl","text-gray-600","hover:text-gray-900"],[4,"ngTemplateOutlet"],[1,"absolute","flex","items-center","justify-center","w-4","h-4","text-sm","text-gray-100","bg-red-700","rounded-full","-right-1.5","-top-0"],[1,"hidden","text-xs","lg:block"]],template:function(i,o){i&1&&(r.\u0275\u0275elementStart(0,"a",0)(1,"div",1),r.\u0275\u0275template(2,$,1,0,"ng-container",2),r.\u0275\u0275conditionalCreate(3,V,2,1,"p",3),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"span",4),r.\u0275\u0275text(5),r.\u0275\u0275elementEnd()()),i&2&&(r.\u0275\u0275property("routerLink",o.href),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngTemplateOutlet",o.iconTemplate),r.\u0275\u0275advance(),r.\u0275\u0275conditional(o.notification||o.home?3:-1),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(o.label))},dependencies:[U,P],encapsulation:2})};import{inject as ce}from"@angular/core";import{HttpHeaders as se}from"@angular/common/http";import{from as me}from"rxjs";import{switchMap as d}from"rxjs/operators";import*as h from"@angular/core";import*as O from"@angular/common/http";import{runInInjectionContext as ae}from"@angular/core";var I="__NATIVE_FEDERATION__",k=globalThis;k[I]??={externals:new Map,remoteNamesToRemote:new Map,baseUrlToRemoteNames:new Map};var w=k[I],C=w.externals;function R(e){return`${e.packageName}@${e.version}`}function z(e){let n=R(e);return C.get(n)}function W(e,n){let i=R(e);C.set(i,n)}var j=w.remoteNamesToRemote,E=w.baseUrlToRemoteNames;function K(e,n){j.set(e,n),E.set(n.baseUrl,e)}function q(e){return E.get(e)}function B(e){return E.has(e)}function Q(e){return j.get(e)}function J(e){document.head.appendChild(Object.assign(document.createElement("script"),{type:"importmap-shim",innerHTML:JSON.stringify(e)}))}function S(e){let n=e.split("/");return n.pop(),n.join("/")}function v(e,n){for(;e.endsWith("/");)e=e.substring(0,e.length-1);return n.startsWith("./")&&(n=n.substring(2,n.length)),`${e}/${n}`}var F=(function(e){return e.COMPLETED="federation-rebuild-complete",e.ERROR="federation-rebuild-error",e})(F||{});function G(e){let n=new EventSource(e);n.onmessage=function(i){JSON.parse(i.data).type===F.COMPLETED&&(console.log("[Federation] Rebuild completed, reloading..."),window.location.reload())},n.onerror=function(i){console.warn("[Federation] SSE connection error:",i)}}function X(e,n){return s(this,null,function*(){let i=S(e),o=yield Z(e);n||(n=o.name),o.buildNotificationsEndpoint&&G(i+o.buildNotificationsEndpoint);let a=Y(o,n,i);return K(n,u(f({},o),{baseUrl:i})),a})}function Y(e,n,i){let o=te(e,n,i),a=ee(e,i);return{imports:o,scopes:a}}function Z(e){return s(this,null,function*(){return yield fetch(e).then(i=>i.json())})}function ee(e,n){let i={},o={};for(let a of e.shared){let l=z(a)??v(n,a.outFileName);W(a,l),o[a.packageName]=l}return i[n+"/"]=o,i}function te(e,n,i){let o={};for(let a of e.exposes){let l=v(n,a.key),m=v(i,a.outFileName);o[l]=m}return o}function M(e,n){return s(this,null,function*(){let i=re(e,n);yield oe(i);let o=ie(i),a=Q(o),l=i.fallback,m=a?"":"unknown remote "+o;if(!a&&!l)throw new Error(m);if(!a)return T(m),Promise.resolve(l);let g=a.exposes.find(p=>p.key===i.exposedModule),N=g?"":`Unknown exposed module ${i.exposedModule} in remote ${o}`;if(!g&&!l)throw new Error(N);if(!g)return T(N),Promise.resolve(l);let H=v(a.baseUrl,g.outFileName);try{return ne(H)}catch(p){if(l)return console.error("error loading remote module",p),l;throw p}})}function ne(e){return typeof importShim<"u"?importShim(e):import(e)}function ie(e){let n;if(e.remoteName)n=e.remoteName;else if(e.remoteEntry){let i=S(e.remoteEntry);n=q(i)}else throw new Error("unexpcted arguments: Please pass remoteName or remoteEntry");if(!n)throw new Error("unknown remoteName "+n);return n}function oe(e){return s(this,null,function*(){if(e.remoteEntry&&!B(S(e.remoteEntry))){let n=yield X(e.remoteEntry);J(n)}})}function re(e,n){let i;if(typeof e=="string"&&n)i={remoteName:e,exposedModule:n};else if(typeof e=="object"&&!n)i=e;else throw new Error("unexpected arguments: please pass options or a remoteName/exposedModule-pair");return i}function T(e){typeof window<"u"&&console.error(e)}import*as c from"@angular/core";var b=class e{constructor(n){this.injector=n}remote;readyPromise;initRemote(){return this.readyPromise||(this.readyPromise=s(this,null,function*(){let n=yield M({remoteName:"auth",exposedModule:"./AuthService"});return this.remote=ae(this.injector,()=>new n.AuthService),this.remote})),this.readyPromise}authorizationHeader(n=200,i=10){return s(this,null,function*(){let o=yield this.initRemote(),a,l=0;do{if(a=yield o.authorizationHeader(),a)break;if(l++,l>=i)throw new Error("Auth header not ready after max retries");yield new Promise(m=>setTimeout(m,n))}while(!a);return a})}static \u0275fac=function(i){return new(i||e)(c.\u0275\u0275inject(c.EnvironmentInjector))};static \u0275prov=c.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"})};var y=class e{constructor(n,i){this.http=n;this.auth=i}withAuthHeaders(n){return me(this.auth.authorizationHeader()).pipe(d(i=>{let o=new se(u(f({},n?.headers??{}),{Authorization:i}));return[u(f({},n),{headers:o})]}))}get(n,i){return this.withAuthHeaders(i).pipe(d(o=>this.http.get(n,o)))}post(n,i,o){return this.withAuthHeaders(o).pipe(d(a=>this.http.post(n,i,a)))}put(n,i,o){return this.withAuthHeaders(o).pipe(d(a=>this.http.put(n,i,a)))}delete(n,i){return this.withAuthHeaders(i).pipe(d(o=>this.http.delete(n,o)))}static \u0275fac=function(i){return new(i||e)(h.\u0275\u0275inject(O.HttpClient),h.\u0275\u0275inject(b))};static \u0275prov=h.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"})};import*as A from"@angular/core";var _=class e{authHttpService=ce(y);baseUrl="http://localhost:8080/mbe-user/api/v1";loadShortUserView(){return this.authHttpService.get(`${this.baseUrl}/users/mfe-shared/view`)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=A.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"})};import*as t from"@angular/core";var he=e=>["/lk",e];function ge(e,n){e&1&&t.\u0275\u0275elementContainer(0)}function xe(e,n){e&1&&t.\u0275\u0275elementContainer(0)}function ve(e,n){if(e&1&&(t.\u0275\u0275elementStart(0,"main",3)(1,"div",19),t.\u0275\u0275template(2,ge,1,0,"ng-container",20)(3,xe,1,0,"ng-container",20),t.\u0275\u0275elementEnd()()),e&2){t.\u0275\u0275nextContext();let i=t.\u0275\u0275reference(2),o=t.\u0275\u0275reference(4);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngTemplateOutlet",i),t.\u0275\u0275advance(),t.\u0275\u0275property("ngTemplateOutlet",o)}}function be(e,n){e&1&&(t.\u0275\u0275elementStart(0,"div",21)(1,"a",22),t.\u0275\u0275element(2,"img",9),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"div",23)(4,"div",24),t.\u0275\u0275element(5,"i",11)(6,"input",25),t.\u0275\u0275elementEnd()()())}function ye(e,n){e&1&&t.\u0275\u0275element(0,"i",41)}function _e(e,n){e&1&&t.\u0275\u0275element(0,"i",42)}function we(e,n){e&1&&t.\u0275\u0275element(0,"i",43)}function Ee(e,n){e&1&&t.\u0275\u0275element(0,"i",44)}function Se(e,n){e&1&&t.\u0275\u0275element(0,"i",45)}function Ne(e,n){e&1&&t.\u0275\u0275element(0,"i",46)}function Te(e,n){e&1&&t.\u0275\u0275element(0,"i",47)}function Ie(e,n){e&1&&t.\u0275\u0275element(0,"i",48)}function ke(e,n){if(e&1&&(t.\u0275\u0275elementStart(0,"div")(1,"div",26)(2,"div",27)(3,"app-link-item",28),t.\u0275\u0275template(4,ye,1,0,"ng-template",null,2,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"app-link-item",29),t.\u0275\u0275template(7,_e,1,0,"ng-template",null,2,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"app-link-item",30),t.\u0275\u0275template(10,we,1,0,"ng-template",null,2,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"app-link-item",31),t.\u0275\u0275template(13,Ee,1,0,"ng-template",null,2,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"app-link-item",32),t.\u0275\u0275template(16,Se,1,0,"ng-template",null,2,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(18,"app-link-item",33),t.\u0275\u0275template(19,Ne,1,0,"ng-template",null,2,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(21,"a",34),t.\u0275\u0275element(22,"img",35),t.\u0275\u0275elementStart(23,"div",23)(24,"span",36),t.\u0275\u0275text(25," Me "),t.\u0275\u0275element(26,"i",37),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275element(27,"div",38),t.\u0275\u0275elementStart(28,"app-link-item",39),t.\u0275\u0275template(29,Te,1,0,"ng-template",null,2,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(31,"app-link-item",40),t.\u0275\u0275template(32,Ie,1,0,"ng-template",null,2,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()()()),e&2){let i,o,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(6),t.\u0275\u0275property("home",!0),t.\u0275\u0275advance(12),t.\u0275\u0275property("notification",!0),t.\u0275\u0275advance(3),t.\u0275\u0275property("routerLink",t.\u0275\u0275pureFunction1(4,he,(i=a.user())==null?null:i.username)),t.\u0275\u0275advance(),t.\u0275\u0275property("src",(o=a.user())==null?null:o.avatar,t.\u0275\u0275sanitizeUrl)}}var L=class e{user=ue(null);userService=fe(_);ngOnInit(){this.userService.loadShortUserView().subscribe(n=>{this.user.set(n)})}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=t.\u0275\u0275defineComponent({type:e,selectors:[["app-navbar"]],decls:20,vars:1,consts:[["leftNavItems",""],["rightNavItems",""],["icon",""],[1,"fixed","w-full","top-0","z-20","hidden","px-8","shadow","bg-white","md:block"],[1,"md:hidden"],[1,"max-w-6xl","px-5","py-2","mx-auto","bg-white"],[1,"w-full","flex","items-center","justify-between","space-x-2"],[1,"w-full","flex","items-center","space-x-2"],["routerLink","/"],["src","logoNoBg.png","alt","Me",1,"w-8","h-8"],[1,"w-full","flex","items-center","py-1.5","px-3","rounded","bg-[#EEF3F7]"],[1,"fa-solid","fa-search","text-gray-500","text-sm"],["type","text","placeholder","Search",1,"w-full","bg-[#EEF3F7]","focus:outline-none","ml-2"],["routerLink","/chat"],[1,"fa-solid","fa-comment-dots","text-gray-500","text-xl"],[1,"container","px-5","mt-5","hidden"],[1,"flex","items-center","px-4","py-3","shadow","bg-white","rounded"],[1,"fas","fa-edit","text-gray-600","text-xl","mr-3"],["type","text","placeholder","Share your thoughts or photos",1,"w-full","tracking-wide","focus:outline-none"],[1,"flex","items-center","max-w-6xl","mx-auto","md:justify-between"],[4,"ngTemplateOutlet"],[1,"flex","items-center","space-x-2"],["routerLink","/home"],[1,"hidden","lg:block"],[1,"flex","items-center","xl:w-80","w-60","space-x-3","py-1.5","px-3","rounded","bg-[#EEF3F7]"],["type","text","placeholder","Search",1,"bg-[#EEF3F7]","w-full","focus:outline-none","text-sm"],[1,"flex","items-center","space-x-8","text-gray-500"],[1,"ml-6","lg:hidden"],["label","Search","href","/"],["label","feeds","href","/lk/feed","alert","",3,"home"],["label","My Network","href","/my-network"],["label","Job","href","/job"],["label","Messaging","href","/chat"],["label","Notifications","href","/Notifications","alert","1",3,"notification"],[1,"flex","flex-col","items-center","justify-center",3,"routerLink"],["alt","Me",1,"rounded-full","w-7","h-7",3,"src"],[1,"flex","items-center","text-xs"],[1,"ti","ti-arrow-sorted-down","ml-1","text-base"],[1,"border-r","border-gray-200","h-14"],["label","Work","href","/work"],["label","Learning","href","/learning"],[1,"fa-solid","fa-search","text-xl"],[1,"fa-solid","fa-house-chimney-crack","text-xl"],[1,"fa-solid","fa-users","text-xl"],[1,"fa-solid","fa-briefcase","text-xl"],[1,"fa-solid","fa-comment-dots","text-xl"],[1,"fa-solid","fa-bell","text-xl"],[1,"fa-solid","fa-grip","text-xl"],[1,"fa-solid","fa-graduation-cap","text-xl"]],template:function(i,o){i&1&&(t.\u0275\u0275conditionalCreate(0,ve,4,2,"main",3),t.\u0275\u0275template(1,be,7,0,"ng-template",null,0,t.\u0275\u0275templateRefExtractor)(3,ke,34,6,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementStart(5,"main",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"a",8),t.\u0275\u0275element(10,"img",9),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(11,"div",10),t.\u0275\u0275element(12,"i",11)(13,"input",12),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(14,"a",13),t.\u0275\u0275element(15,"i",14),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(16,"div",15)(17,"div",16),t.\u0275\u0275element(18,"i",17)(19,"input",18),t.\u0275\u0275elementEnd()()()),i&2&&t.\u0275\u0275conditional(o.user()?0:-1)},dependencies:[pe,x,de],encapsulation:2})};export{L as ShellNavbarComponent};
