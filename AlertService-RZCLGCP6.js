import{signal as c}from"@angular/core";import*as a from"@angular/core";var o=class l{_alerts=c([]);nextId=1;containerEl;get alerts(){return this._alerts}show(r,e="info",s=5e3,t){let n={id:this.nextId++,message:r,type:e,timeout:s,icon:t};return this._alerts.set([...this._alerts(),n]),this.containerEl||this.createContainer(),this.render(),s>0&&setTimeout(()=>this.hide(n.id),s),n.id}hide(r){this._alerts.set(this._alerts().filter(e=>e.id!==r)),this.render()}clear(){this._alerts.set([]),this.render()}createContainer(){this.containerEl=document.createElement("div"),this.containerEl.style.position="fixed",this.containerEl.style.top="1rem",this.containerEl.style.right="1rem",this.containerEl.style.width="300px",this.containerEl.style.zIndex="9999",document.body.appendChild(this.containerEl)}render(){if(this.containerEl){this.containerEl.innerHTML="";for(let r of this._alerts()){let e=document.createElement("div");if(e.style.marginTop="0.75rem",e.style.padding="0.75rem",e.style.borderRadius="0.375rem",e.style.display="flex",e.style.alignItems="center",e.style.position="relative",e.style.fontSize="0.875rem",e.style.transition="all 0.2s ease",e.style.backgroundColor=this.bgColor(r.type),e.style.color=this.textColor(r.type),r.icon){let n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("viewBox","0 0 24 24"),n.setAttribute("fill","none"),n.setAttribute("stroke","currentColor"),n.setAttribute("stroke-width","2"),n.setAttribute("class","w-5 h-5 mr-2");let i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("d",r.icon),i.setAttribute("stroke-linecap","round"),i.setAttribute("stroke-linejoin","round"),n.appendChild(i),e.appendChild(n)}let s=document.createElement("span");s.textContent=r.message,s.style.flex="1",e.appendChild(s);let t=document.createElement("button");t.textContent="\xD7",t.style.position="absolute",t.style.top="0.25rem",t.style.right="0.25rem",t.style.width="1.5rem",t.style.height="1.5rem",t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="center",t.style.border="none",t.style.borderRadius="0.375rem",t.style.cursor="pointer",t.style.background="rgba(0,0,0,0.05)",t.onclick=()=>this.hide(r.id),e.appendChild(t),this.containerEl.appendChild(e)}}}bgColor(r){switch(r){case"success":return"#d1fae5";case"warning":return"#fef3c7";case"error":return"#fee2e2";default:return"#f3f4f6"}}textColor(r){switch(r){case"success":return"#065f46";case"warning":return"#78350f";case"error":return"#991b1b";default:return"#374151"}}static \u0275fac=function(e){return new(e||l)};static \u0275prov=a.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})};export{o as AlertService};
